function makeDraggable(line, label) {
  let dragging = false;

  const updatePosition = (clientX) => {
    let x = Math.max(0, Math.min(window.innerWidth, clientX));
    line.style.left = `${x}px`;

    const center = window.innerWidth / 2;
    const diff = x - center;
    label.textContent = `X: ${x}px (Î” ${diff >= 0 ? "+" : ""}${diff}px)`;
  };

  // Mouse events
  line.addEventListener("mousedown", e => {
    dragging = true;
    e.preventDefault();
  });
  window.addEventListener("mouseup", () => dragging = false);
  window.addEventListener("mousemove", e => {
    if (dragging) updatePosition(e.clientX);
  });

  // Touch events
  line.addEventListener("touchstart", e => {
    dragging = true;
    e.preventDefault();
  });
  window.addEventListener("touchend", () => dragging = false);
  window.addEventListener("touchmove", e => {
    if (dragging && e.touches.length > 0) {
      updatePosition(e.touches[0].clientX);
    }
  });
}